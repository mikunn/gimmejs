!function(a,b){"undefined"!=typeof module&&"undefined"!==module.exports?module.exports=b():a.gimme=b()}(this,function(){"use strict";function a(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function b(a){return l[a]?!0:(l[a]=!0)&&!1}var c={},d="array boolean date function number null object regexp string undefined".split(" "),e=/^([a-z]+( |,)*)+$/i,f=(function(a,b){var c=0,d=a.length;for(c;d>c;c++)b[a[c]]=[]}(d,c),function(a){var b={},d=g(a),e=c[d],f=e.length,h=0;for(h;f>h;h++)b[e[h][0]]=e[h][1];return b.entity=a,b.type=d,b}),g=function(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()},h=function(a,b){var d,e,f=0,g=a.length;for(f;g>f;f++)for(e in b)d=a[f],d&&d.length>1&&c[d].push([e,b[e]])},i=function(a){return a=a.replace(/( |,)/g," "),a=a.split(" "),0===a.indexOf("all")?a=d:(a=a.filter(function(a){return a.length>1}).map(function(a){return a.toLowerCase()}),a.forEach(function(a){if(d.indexOf(a)<0)throw new Error(a+" is not a known type.")})),a},j=function(a){return f(a)};j.extend=function(a,b){var c;if("string"!==g(a)||"object"!==g(b))throw new Error("A String expected as the first and an object as the second parameter for function extend");if(c=e.test(a.trim()),!c)throw new Error("The string format of first argument for extend() is invalid.");h(i(a),b)},j.type=g;var k={ms:1,s:1e3,m:6e4,h:36e5,d:864e5};j.extend("date",{difference:function(b,c){var d,e=this.entity,f=b,c=c||"ms";if(!(c in k))throw new Error("Accuracy is not a valid string");if(d=k[c],"date"!==j.type(f))throw new Error("First argument must be a Date object");return Math.floor((a(e)-a(f))/d)}});var l={};return j.extend("array",{elementTypes:function(a){a=a||!1;for(var c,d=this.entity,e=d.length,f=0,g=[];e>f;)c=j.type(d[f]),a&&b(c)||g.push(c),f++;return g}}),j.extend("string array",{length:function(){return this.entity.length}}),j.extend("function",{lineCount:function(){var a=this.entity.toString();return a.split("\n").length}}),j.extend("object",{members:function(){var a,b=this.entity,c=[];for(a in b)c.push(b[a]);return c},methods:function(){var a,b=this.entity,c=[];for(a in b)"function"===j.type(b[a])&&c.push(b[a]);return c},properties:function(){var a,b=this.entity,c=[];for(a in b)"function"!==j.type(b[a])&&c.push(b[a]);return c},ownMembers:function(){var a,b=this.entity,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(b[a]);return c},ownMethods:function(){var a,b=this.entity,c=[];for(a in b)b.hasOwnProperty(a)&&"function"===j.type(b[a])&&c.push(b[a]);return c},ownProperties:function(){var a,b=this.entity,c=[];for(a in b)b.hasOwnProperty(a)&&"function"!==j.type(b[a])&&c.push(b[a]);return c}}),j.extend("function",{name:function(){var a=this.entity.toString();return a.slice("function ".length,a.indexOf("("))}}),j});