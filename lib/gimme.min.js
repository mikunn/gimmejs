!function(a,b){"undefined"!=typeof module&&"undefined"!==module.exports?module.exports=b():a.gimme=b()}(this,function(){"use strict";function a(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function b(a){return m[a]?!0:(m[a]=!0)&&!1}var c={},d="array boolean date function number null object regexp string undefined".split(" "),e=/^([a-z]+( |,)*)+$/i,f=function(){var a=0,b=d.length;for(a;b>a;a++)c[d[a]]={}},g=function(a){var b=h(a),d=(c[b],Object.create(c[b]));return d.entity=a,d.type=b,d},h=function(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()},i=function(a,b){var d,e,f=0,g=a.length;for(f;g>f;f++){d=a[f];for(e in b)c[d][e]=b[e]}},j=function(a){return a=a.replace(/( |,)/g," "),a=a.split(" "),0===a.indexOf("all")?a=d:(a=a.filter(function(a){return a.length>1}).map(function(a){return a.toLowerCase()}),a.forEach(function(a){if(d.indexOf(a)<0)throw new Error(a+" is not a known type.")})),a},k=function(a){return g(a)};k.extend=function(a,b){var c;if("string"!==h(a)||"object"!==h(b))throw new Error("A String expected as the first and an object as the second parameter for function extend");if(c=e.test(a.trim()),!c)throw new Error("The string format of first argument for extend() is invalid.");i(j(a),b)},k.type=h,f();var l={ms:1,s:1e3,m:6e4,h:36e5,d:864e5};k.extend("date",{difference:function(b,c){var d,e=this.entity,f=b,c=c||"ms";if(!(c in l))throw new Error("Accuracy is not a valid string");if(d=l[c],"date"!==k.type(f))throw new Error("First argument must be a Date object");return Math.floor((a(e)-a(f))/d)}});var m={};return k.extend("array",{elementTypes:function(a){a=a||!1;for(var c,d=this.entity,e=d.length,f=0,g=[];e>f;)c=k.type(d[f]),a&&b(c)||g.push(c),f++;return g}}),k.extend("string array",{length:function(){return this.entity.length}}),k.extend("function",{lineCount:function(){var a=this.entity.toString();return a.split("\n").length}}),k.extend("object",{members:function(){var a,b=this.entity,c=[];for(a in b)c.push(b[a]);return c},methods:function(){var a,b=this.entity,c=[];for(a in b)"function"===k.type(b[a])&&c.push(b[a]);return c},properties:function(){var a,b=this.entity,c=[];for(a in b)"function"!==k.type(b[a])&&c.push(b[a]);return c},ownMembers:function(){var a,b=this.entity,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(b[a]);return c},ownMethods:function(){var a,b=this.entity,c=[];for(a in b)b.hasOwnProperty(a)&&"function"===k.type(b[a])&&c.push(b[a]);return c},ownProperties:function(){var a,b=this.entity,c=[];for(a in b)b.hasOwnProperty(a)&&"function"!==k.type(b[a])&&c.push(b[a]);return c}}),k.extend("function",{name:function(){var a=this.entity.toString();return a.slice("function ".length,a.indexOf("("))}}),k});